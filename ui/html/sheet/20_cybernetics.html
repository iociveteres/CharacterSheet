{{define "cybernetics"}}
<div id="cybernetics" data-id="cybernetics.items" class="item-grid">
    {{ $cols := layoutNamedDescriptions "cybernetics" .Cybernetics }}
    {{ range $colIndex, $col := $cols }}
    <div class="layout-column" data-column="{{ $colIndex }}">
        {{ range $rowIndex, $key := $col }}
        {{ $c := index $.Cybernetics.Items $key }}
        {{template "cybernetic_item" (dict "item" $c "key" $key)}}
        {{ end }}
    </div>
    {{ end }}
</div>
{{end}}

{{define "cybernetic_item"}}
{{ $item := .item }}
{{ $key := .key }}
<div class="item-with-description {{ if $item.Description }}{{ else }}collapsed{{ end }}" data-id="{{ $key }}">
    <div class="split-header">
        <input type="text" data-id="name" value="{{ $item.Name }}">
        <button class="toggle-button"></button>
        <div class="drag-handle"></div>
        <button class="delete-button"></button>
    </div>
    <div class="collapsible-content">
        <textarea class="split-description" placeholder=" " data-id="description">{{ $item.Description }}</textarea>
    </div>
</div>
{{end}}